#! /bin/bash -e
# Link to files in the home folder
BASE=$(cd ${0%/*} && pwd -P)

for file in $(cd src; find . -type f)
do
    target=~/."${file#./}"

    ( [ -L $target ] || [ ! -f $target ] ) || {
        echo "'$target' exists and is not a link, skipping";
        continue;
    }

    mkdir -p $(dirname $target)
    ln -sf "${BASE}/src/$file" $target
done
